# R Packages

<body id="start">
<div class="topnav">
  <a href='index.html#frontpage'>Front page</a>
  <a href='data-visualisation.html#data-visualisation'>Data visualisation</a>
  <a href='reproductibility.html#Reproductibility'>Reproductibility</a>
  <a href='sorting-directories.html#sorting-directories'>Directory structure</a>
  <a href='cv.html#cv'>CV</a>
  <a href='plan-for-future.html#plan-for-future'>The future</a>
  <a href='sql.html#SQL'>SQL</a>
</div>

To prove my ability to create a package based on previous code, a set of functions will be created based on the "pokemon" dataset previously used will be created, and these functions will be transformed into a package.

First of, the pokemon package, supplied from "Rounak Banik" on [kaggle](https://www.kaggle.com/datasets/rounakbanik/pokemon), will be loaded in

```{r 009_dependancies}
library(tidyverse)
library(here)
library(ggplot2)
```

```{r, eval=FALSE}
pokemon<-read_csv("data/pokemon.csv") %>% select(name,abilities:japanese_name,percentage_male:is_legendary)

pokemon[1,] %>% select(name, type1, type2, abilities:is_legendary)


########## A Function which takes a list of pokemons, and gives you their type ######################################

pokemon_type<-function(...){
  arguments<-list(...) #Storing all arguments as a list
  for (x in arguments) #Making a command which repeats for all arguments in the list
  { if (is.na(pokemon$type2[pokemon$name==x])) #Determening whether the pokemon has 1 or 2 types, giving the appropriate message based on this
    print(paste0(pokemon$name[pokemon$name==x], " is a ", pokemon$type1[pokemon$name==x], " type"))
      else {
    print(paste0(pokemon$name[pokemon$name==x], " is a ", pokemon$type1[pokemon$name==x], " and a ", pokemon$type2[pokemon$name==x], " type"))  
      }
  }
}

pokemon_type("Chimchar", "Drapion")

########## A Function which takes a name of 1 pokemon, and gives you a graph of their stat sheet.


pokemon_stats<-function(x){
  graph_data<-pokemon[pokemon$name==x,] %>% #Separating the stats from the database
  select(hp, attack, defense, sp_attack, sp_defense, speed) %>% 
  pivot_longer(cols=hp:speed, names_to = "stat", values_to = "value")
  
  graph_data$stat<-factor(graph_data$stat, levels = c("hp", "attack", "defense", "sp_attack", "sp_defense", "speed")) #Putting the stats in the proper porder
  
  graph_data %>% ggplot(aes(x=stat, y=value, fill=stat))+ #Visualising the separated stats
  geom_col(colour="black")+
  labs(title = paste0(x,"'s stat breakdown"),
       x="",
       y="Stat value",
       fill="Stat")+
  theme_bw()
}

pokemon_stats("Golem")



```

